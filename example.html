<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

</head>

<body>
  <script src="https://cdn.jsdelivr.net/npm/@editorjs/editorjs@latest"></script>
  <script src="ruby.js"></script>
  <link href="ruby.css" rel="stylesheet" />

  <div id="editorjs"></div>
  <button id="save-button">Save</button>
  <pre id="output"></pre>
  <script>
    const editor = new EditorJS({
      autofocus: true,
      tools: {
        ruby: {class: Ruby, inlineToolbar: ['link', 'bold']}
      },
      data: {
        time: 1552744582955,
        blocks: [
          {
            type: "ruby",
            data: {
              url: "https://cdn.pixabay.com/photo/2017/09/01/21/53/blue-2705642_1280.jpg",
              caption: 'yoyyo',
              withBorder: false,
              withBackground: true
            }
          }
        ],
        version: "2.22.2"
      }
    });
    const saveButton = document.getElementById('save-button');
    const output = document.getElementById('output');

    saveButton.addEventListener('click', () => {
      editor.save().then( savedData => {
        output.innerHTML = JSON.stringify(savedData, null, 4);
      })
    })
  </script>
</body>

</html>